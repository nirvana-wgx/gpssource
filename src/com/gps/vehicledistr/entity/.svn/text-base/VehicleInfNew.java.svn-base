package com.gps.vehicledistr.entity;

import java.text.DecimalFormat;
import java.util.Calendar;
import java.util.Date;

public class VehicleInfNew implements java.io.Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;

	DecimalFormat decimalFormat = new DecimalFormat("#,##0.00000000");

	// Fields

	private String mbmid;//id
	
	private String vehicleid;//车辆ID

	private String deviceid;//设备ID号

	private String infotype;//信息类型

	private Date receivetime;//接收时间

	private String gpslocate;//定位状态

	private String gpsshell;//外壳状态

	private String gpsantenna;//天线状态

	private String gpsrelay4;//继电器4状态

	private String gpsrelay3;//继电器3状态

	private String gpsrelay2;//继电器2状态

	private String gpsrelay1;//继电器1状态

	private String gpssleep;//休眠状态

	private String gpsminitor;//监控状态

	private String gpspattern;//模式状态

	private String gpsautolocktwomonth;// 两个月自动锁车

	private String gpsautolockshell;//开壳自动锁车

	private String gpsautolockantenna;//天线报警自动锁车

	private String gpsautolockmain;//485总线不通自动锁车

	private String carengine;//发动机状态

	private String carkey;//车钥匙状态

	private String satellitevisible;//

	private String satelliteusable;//

	private String latitude;//维度

	private String longitude;//经度

	private String speed;//速度

	private String location;//方位

	private Date locatetime;//定位时间

	private String voltage;//电压

	private String worktime;//工作时间

	private String watertemperature;//水温

	private String oiltemperature;//油温

	private String oilpressure;//油压

	private String oillevel;//油位

	private String rotaryspeed;//转速

	private String warnys;//油水报警

	private String warncd;//充电指示

	private String warnry;//油位

	private String warnyy;//油压

	private String warnsw;//水温

	private String warnyw;//油温报警

	private String warnyl;//油滤报警

	private String warnkl;//空滤报警

	private String warndydy;//电压报警

	private Date collecttime;//采集时间

	private String backup;//备用电压

	private String envtemperature;//环境温度
	
	private String locate;//地理位置

	// Constructors

	/** default constructor */
	public VehicleInfNew() {
	}
	
	public VehicleInfNew(String vehicleid,String deviceid,String latitude,String longitude,String worktime,String carengine,String locate){
		this.vehicleid = vehicleid;
		this.deviceid = deviceid;
		this.latitude = latitude;
		this.longitude = longitude;
		this.worktime = worktime;
		this.carengine = carengine;
		this.locate = locate;
	}

	/** full constructor */
	public VehicleInfNew(String vehicleid, String deviceid, String infotype, Date receivetime,
			String gpslocate, String gpsshell, String gpsantenna,
			String gpsrelay4, String gpsrelay3, String gpsrelay2,
			String gpsrelay1, String gpssleep, String gpsminitor,
			String gpspattern, String gpsautolocktwomonth,
			String gpsautolockshell, String gpsautolockantenna,
			String gpsautolockmain, String carengine, String carkey,
			String satellitevisible, String satelliteusable, String latitude,
			String longitude, String speed, String location, Date locatetime,
			String voltage, String worktime, String watertemperature,
			String oiltemperature, String oilpressure, String oillevel,
			String rotaryspeed, String warnys, String warncd, String warnry,
			String warnyy, String warnsw, String warnyw, String warnyl,
			String warnkl, String warndydy, Date collecttime, String backup,
			String envtemperature, String locate) {
		this.vehicleid = vehicleid;
		this.deviceid = deviceid;
		this.infotype = infotype;
		this.receivetime = receivetime;
		this.gpslocate = gpslocate;
		this.gpsshell = gpsshell;
		this.gpsantenna = gpsantenna;
		this.gpsrelay4 = gpsrelay4;
		this.gpsrelay3 = gpsrelay3;
		this.gpsrelay2 = gpsrelay2;
		this.gpsrelay1 = gpsrelay1;
		this.gpssleep = gpssleep;
		this.gpsminitor = gpsminitor;
		this.gpspattern = gpspattern;
		this.gpsautolocktwomonth = gpsautolocktwomonth;
		this.gpsautolockshell = gpsautolockshell;
		this.gpsautolockantenna = gpsautolockantenna;
		this.gpsautolockmain = gpsautolockmain;
		this.carengine = carengine;
		this.carkey = carkey;
		this.satellitevisible = satellitevisible;
		this.satelliteusable = satelliteusable;
		this.latitude = latitude;
		this.longitude = longitude;
		this.speed = speed;
		this.location = location;
		this.locatetime = locatetime;
		this.voltage = voltage;
		this.worktime = worktime;
		this.watertemperature = watertemperature;
		this.oiltemperature = oiltemperature;
		this.oilpressure = oilpressure;
		this.oillevel = oillevel;
		this.rotaryspeed = rotaryspeed;
		this.warnys = warnys;
		this.warncd = warncd;
		this.warnry = warnry;
		this.warnyy = warnyy;
		this.warnsw = warnsw;
		this.warnyw = warnyw;
		this.warnyl = warnyl;
		this.warnkl = warnkl;
		this.warndydy = warndydy;
		this.collecttime = collecttime;
		this.backup = backup;
		this.envtemperature = envtemperature;
		this.locate = locate;
	}

	// Property accessors

	public String getMbmid() {
		return this.mbmid;
	}

	public void setMbmid(String mbmid) {
		this.mbmid = mbmid;
	}

	public String getDeviceid() {
		return this.deviceid;
	}

	public void setDeviceid(String deviceid) {
		this.deviceid = deviceid;
	}

	public String getInfotype() {
		return this.infotype;
	}

	public void setInfotype(String infotype) {
		this.infotype = infotype;
	}

	public Date getReceivetime() {
		return this.receivetime;
	}

	public void setReceivetime(Date receivetime) {
		this.receivetime = receivetime;
	}

	public String getGpslocate() {
		return this.gpslocate;
	}

	public void setGpslocate(String gpslocate) {
		this.gpslocate = gpslocate;
	}

	public String getGpsshell() {
		return this.gpsshell;
	}

	public void setGpsshell(String gpsshell) {
		this.gpsshell = gpsshell;
	}

	public String getGpsantenna() {
		return this.gpsantenna;
	}

	public void setGpsantenna(String gpsantenna) {
		this.gpsantenna = gpsantenna;
	}

	public String getGpsrelay4() {
		return this.gpsrelay4;
	}

	public void setGpsrelay4(String gpsrelay4) {
		this.gpsrelay4 = gpsrelay4;
	}

	public String getGpsrelay3() {
		return this.gpsrelay3;
	}

	public void setGpsrelay3(String gpsrelay3) {
		this.gpsrelay3 = gpsrelay3;
	}

	public String getGpsrelay2() {
		return this.gpsrelay2;
	}

	public void setGpsrelay2(String gpsrelay2) {
		this.gpsrelay2 = gpsrelay2;
	}

	public String getGpsrelay1() {
		return this.gpsrelay1;
	}

	public void setGpsrelay1(String gpsrelay1) {
		this.gpsrelay1 = gpsrelay1;
	}

	public String getGpssleep() {
		return this.gpssleep;
	}

	public void setGpssleep(String gpssleep) {
		this.gpssleep = gpssleep;
	}

	public String getGpsminitor() {
		return this.gpsminitor;
	}

	public void setGpsminitor(String gpsminitor) {
		this.gpsminitor = gpsminitor;
	}

	public String getGpspattern() {
		return this.gpspattern;
	}

	public void setGpspattern(String gpspattern) {
		this.gpspattern = gpspattern;
	}

	public String getGpsautolocktwomonth() {
		return this.gpsautolocktwomonth;
	}

	public void setGpsautolocktwomonth(String gpsautolocktwomonth) {
		this.gpsautolocktwomonth = gpsautolocktwomonth;
	}

	public String getGpsautolockshell() {
		return this.gpsautolockshell;
	}

	public void setGpsautolockshell(String gpsautolockshell) {
		this.gpsautolockshell = gpsautolockshell;
	}

	public String getGpsautolockantenna() {
		return this.gpsautolockantenna;
	}

	public void setGpsautolockantenna(String gpsautolockantenna) {
		this.gpsautolockantenna = gpsautolockantenna;
	}

	public String getGpsautolockmain() {
		return this.gpsautolockmain;
	}

	public void setGpsautolockmain(String gpsautolockmain) {
		this.gpsautolockmain = gpsautolockmain;
	}

	public String getCarengine() {
		return this.carengine;
	}

	public void setCarengine(String carengine) {
		this.carengine = carengine;
	}

	public String getCarkey() {
		return this.carkey;
	}

	public void setCarkey(String carkey) {
		this.carkey = carkey;
	}

	public String getSatellitevisible() {
		return this.satellitevisible;
	}

	public void setSatellitevisible(String satellitevisible) {
		this.satellitevisible = satellitevisible;
	}

	public String getSatelliteusable() {
		return this.satelliteusable;
	}

	public void setSatelliteusable(String satelliteusable) {
		this.satelliteusable = satelliteusable;
	}

	public String getLatitude() {
		return this.latitude;
	}

	public void setLatitude(String latitude) {
		this.latitude = latitude;
	}

	public String getLongitude() {
		return this.longitude;
	}

	public void setLongitude(String longitude) {
		this.longitude = longitude;
	}

	public String getSpeed() {
		return this.speed;
	}

	public void setSpeed(String speed) {
		this.speed = speed;
	}

	public String getLocation() {
		return this.location;
	}

	public void setLocation(String location) {
		this.location = location;
	}

	public Date getLocatetime() {
		return this.locatetime;
	}

	public void setLocatetime(Date locatetime) {
		this.locatetime = locatetime;
	}

	public String getVoltage() {
		return this.voltage;
	}

	public void setVoltage(String voltage) {
		this.voltage = voltage;
	}

	public String getWorktime() {
		return this.worktime;
	}

	public void setWorktime(String worktime) {
		this.worktime = worktime;
	}

	public String getWatertemperature() {
		return this.watertemperature;
	}

	public void setWatertemperature(String watertemperature) {
		this.watertemperature = watertemperature;
	}

	public String getOiltemperature() {
		return this.oiltemperature;
	}

	public void setOiltemperature(String oiltemperature) {
		this.oiltemperature = oiltemperature;
	}

	public String getOilpressure() {
		return this.oilpressure;
	}

	public void setOilpressure(String oilpressure) {
		this.oilpressure = oilpressure;
	}

	public String getOillevel() {
		return this.oillevel;
	}

	public void setOillevel(String oillevel) {
		this.oillevel = oillevel;
	}

	public String getRotaryspeed() {
		return this.rotaryspeed;
	}

	public void setRotaryspeed(String rotaryspeed) {
		this.rotaryspeed = rotaryspeed;
	}

	public String getWarnys() {
		return this.warnys;
	}

	public void setWarnys(String warnys) {
		this.warnys = warnys;
	}

	public String getWarncd() {
		return this.warncd;
	}

	public void setWarncd(String warncd) {
		this.warncd = warncd;
	}

	public String getWarnry() {
		return this.warnry;
	}

	public void setWarnry(String warnry) {
		this.warnry = warnry;
	}

	public String getWarnyy() {
		return this.warnyy;
	}

	public void setWarnyy(String warnyy) {
		this.warnyy = warnyy;
	}

	public String getWarnsw() {
		return this.warnsw;
	}

	public void setWarnsw(String warnsw) {
		this.warnsw = warnsw;
	}

	public String getWarnyw() {
		return this.warnyw;
	}

	public void setWarnyw(String warnyw) {
		this.warnyw = warnyw;
	}

	public String getWarnyl() {
		return this.warnyl;
	}

	public void setWarnyl(String warnyl) {
		this.warnyl = warnyl;
	}

	public String getWarnkl() {
		return this.warnkl;
	}

	public void setWarnkl(String warnkl) {
		this.warnkl = warnkl;
	}

	public String getWarndydy() {
		return this.warndydy;
	}

	public void setWarndydy(String warndydy) {
		this.warndydy = warndydy;
	}

	public Date getCollecttime() {
		return this.collecttime;
	}

	public void setCollecttime(Date collecttime) {
		this.collecttime = collecttime;
	}

	public String getBackup() {
		return this.backup;
	}

	public void setBackup(String backup) {
		this.backup = backup;
	}

	public String getEnvtemperature() {
		return this.envtemperature;
	}

	public void setEnvtemperature(String envtemperature) {
		this.envtemperature = envtemperature;
	}

	public String getLatitudeEx() {
		String lat = "";
		if (latitude != null && latitude.trim().length() != 0) {
			int begin = latitude.indexOf("度");
			String doX = latitude.substring(0, begin);
			int end = latitude.indexOf("分");
			String fenX = latitude.substring(begin + 1, end);
			double fenDouble = Double.parseDouble(fenX);
			fenDouble /= 60;
			String fenString = decimalFormat.format(fenDouble);
			lat = doX + fenString.substring(1);
		}
		return lat;
	}

	public String getLongitudeEx() {
		String lon = "";
		if (longitude != null && longitude.trim().length() != 0) {
			int begin = longitude.indexOf("度");
			String doX = longitude.substring(0, begin);
			int end = longitude.indexOf("分");
			String fenX = longitude.substring(begin + 1, end);
			double fenDouble = Double.parseDouble(fenX);
			fenDouble /= 60;
			String fenString = decimalFormat.format(fenDouble);
			lon = doX + fenString.substring(1);
		}
		return lon;
	}

	public String getWarncode() {
		if (this.warnys != null && this.warnys.equals("正常")
				&& this.warncd != null && this.warncd.equals("正常")
				&& this.warnry != null && this.warnry.equals("正常")
				&& this.warnyy != null && this.warnyy.equals("正常")
				&& this.warnsw != null && this.warnsw.equals("正常")
				&& this.warnyw != null && this.warnyw.equals("正常")
				&& this.warnyl != null && this.warnyl.equals("正常")
				&& this.warnkl != null && this.warnkl.equals("正常"))
			return "正常";
		return "报警";
	}

	// 是否机械报警
	public boolean isWarnJXBJ() {
		return !(this.warnys != null && this.warnys.equals("正常")
				&& this.warncd != null && this.warncd.equals("正常")
				&& this.warnry != null && this.warnry.equals("正常")
				&& this.warnyy != null && this.warnyy.equals("正常")
				&& this.warnsw != null && this.warnsw.equals("正常")
				&& this.warnyw != null && this.warnyw.equals("正常")
				&& this.warnyl != null && this.warnyl.equals("正常")
				&& this.warnkl != null && this.warnkl.equals("正常")
				&& this.warndydy != null && this.warndydy.equals("正常"));
	}

	// 是否定位异常
	public boolean isWarnDWYC() {
		if (this.locatetime != null) {
			Calendar cLocate = Calendar.getInstance();
			cLocate.setTime(locatetime);
			Calendar cNow = Calendar.getInstance();
			// 转换为相对时间
			long l1 = cLocate.getTimeInMillis();
			long l2 = cNow.getTimeInMillis();
			// 计算天数（大于十天则报警）
			long days = (l2 - l1) / (24 * 60 * 60 * 1000);
			if (days < 10)
				return false;
		}
		return true;
	}

	// 是否被锁定
	public boolean isWarnBSD() {
		return !(this.gpsrelay1 != null
				&& this.gpsrelay1.equals("解锁")
				&& this.gpsrelay2 != null
				&& this.gpsrelay2.equals("解锁")
				&& this.gpsrelay3 != null
				&& this.gpsrelay3.equals("解锁")
				&& this.gpsrelay4 != null
				&& this.gpsrelay4.equals("解锁")
				&& this.gpsautolocktwomonth != null
				&& (this.gpsautolocktwomonth.equals("禁止") || this.gpsautolocktwomonth
						.equals("正常"))
				&& this.gpsautolockshell != null
				&& (this.gpsautolockshell.equals("禁止") || this.gpsautolockshell
						.equals("正常"))
				&& this.gpsautolockantenna != null
				&& (this.gpsautolockantenna.equals("禁止") || this.gpsautolockantenna
						.equals("正常")) && this.gpsautolockmain != null && (this.gpsautolockmain
				.equals("禁止") || this.gpsautolockmain.equals("正常")));
	}

	// 是否终端报警
	public boolean isWarnZDBJ() {
		if (this.gpsshell != null && this.gpsshell.equals("外壳闭合")
				&& this.gpsantenna != null && this.gpsantenna.equals("正常")
				&& this.voltage != null) {
			try {
				String vol = voltage.substring(0, voltage.length() - 1);
				int intVol = Integer.parseInt(vol);
				// 电压小于5伏则报警
				if (intVol > 5)
					return false;
			} catch (Exception e) {
			}
			return false;
		}
		return true;
	}

	public static String getDisplay(String lonString) {
		String du = "0";
		String fen = "0";
		try {
			du = lonString.substring(0, lonString.indexOf("."));
			fen = "0" + lonString.substring(lonString.indexOf("."));
			double dFen = Double.parseDouble(fen);
			dFen *= 60;
			fen = String.valueOf(dFen);
		} catch (Exception e) {
		}
		return du + "度" + fen + "分";
	}

	// 自锁车状态
	public String getAutoLockString() {
		StringBuilder builder = new StringBuilder();
		if (gpsautolocktwomonth == null || gpsautolocktwomonth.equals("使能")
				|| gpsautolocktwomonth.equals("自锁车")) {
			builder.append("两个月信息不回传、");
		}
		if (gpsautolockshell == null || gpsautolockshell.equals("使能")
				|| gpsautolockshell.equals("自锁车")) {
			builder.append("开壳、");
		}
		if (gpsautolockantenna == null || gpsautolockantenna.equals("使能")
				|| gpsautolockantenna.equals("自锁车")) {
			builder.append("GPS天线异常、");
		}
		if (gpsautolockmain == null || gpsautolockmain.equals("使能")
				|| gpsautolockmain.equals("自锁车")) {
			builder.append("总线通讯中断、");
		}
		String result = builder.toString();
		int length = result.length();
		if (length != 0) {
			result = result.substring(0, length - 1) + "自锁车";
			return result;
		}
		return "正常";
	}

	// 锁车状态
	public String getLockString() {

		StringBuilder builder = new StringBuilder();
		if (gpsrelay1 == null || gpsrelay1.equals("锁车")) {
			builder.append("1、");
		}
		if (gpsrelay2 == null || gpsrelay2.equals("锁车")) {
			builder.append("2、");
		}
		if (gpsrelay3 == null || gpsrelay3.equals("锁车")) {
			builder.append("3、");
		}
		if (gpsrelay4 == null || gpsrelay4.equals("锁车")) {
			builder.append("4、");
		}
		String result = builder.toString();
		int length = result.length();
		if (length != 0) {
			result = "第" + result.substring(0, length - 1) + "路锁车";
			return result;
		}
		return "正常";
	}

	public String getVehicleid() {
		return vehicleid;
	}

	public void setVehicleid(String vehicleid) {
		this.vehicleid = vehicleid;
	}

	public String getLocate() {
		return locate;
	}

	public void setLocate(String locate) {
		this.locate = locate;
	}

}