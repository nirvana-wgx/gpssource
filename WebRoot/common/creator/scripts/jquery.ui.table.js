(function(a){a.fn.tableScrollWidth=function(d){var j={header:".table_header",body:".table_body",scrollWidth:18,outerWidth:7,colSelect:true,tableSort:true,tableSortBefore:null,tableSortAfter:null,hoverClass:"rows_hover",selectorClass:"selector",rowsHover:false,nowrap:false,simulateTable:true,rows:{onclick:null,ondblclick:null},col:{onclick:true,ondblclick:null},snClass:"td_header"};var f=a.extend(j,d||{});var g=function(x,w,v){var u=v||"div";w=w.replace(/\.([a-z|_]*)/,"$1");var t=null;if(x.prev(u).hasClass(w)){t=x.prev(u)}else{t=x.parent(u);if(t.prev(u).hasClass(w)){t=t.prev(u)}}return t};var h=function(t,w){var u=t.attr("style");u=u.split(/[:|;]/);var v=0;a.each(u,function(x){if(u[x]===w&&isNaN(parseInt(u[x+1]))!==true){v=parseInt(u[x+1])}});return v};var p=function(t,u){t.each(function(v){styleWidth=a(this).attr("style");if(styleWidth){var w=/(\d+)px/;w.exec(styleWidth);styleWidth=Number(RegExp.$1)}u[v]=styleWidth||a(this).width()});return u};var k=function(t,u){t.each(function(v){a(this).css("width",u[v])})};var e=function(w,v,u){var t=0;a.each(w,function(x,y){return t+=y+v});return t<u.width()?t=u.width():t};var n=function(t){t.css("height",function(){return a(this).find("table").height()})};var c=function(u){var t=u.index();return t};var s=function(v,w,t){var u=null;if(t){u=t.find(w)}else{u=a("."+w)}u.removeClass(w);v.addClass(w);return v};var l=function(u,t){u.scroll(function(){t.css("left",-a(this).scrollLeft())})};var r=function(u,t){u.scroll(function(){t.css("top",-a(this).scrollTop())})};var i=function(t){if(t.find(":checkbox")){if(t.find(":checkbox").prop("checked")==false){t.find(":checkbox").prop("checked",true)}else{t.find(":checkbox").prop("checked",false)}}};var q=function(t,u){t.addClass(u)};var m=function(t,u){if(t.hasClass(u)){t.removeClass(u)}else{s(t,u)}};var o=function(w,t,x){var v,u=c(w);t.find("tr").each(function(){v=a(this).find("td").eq(u);if(v.hasClass(x)){v.removeClass(x)}else{v.addClass(x)}})};var b=function(y,x,u){var x=x.get();var v=c(y);var z=y.children();if(z.is("span")){z.filter("span").toggleClass("desc").toggleClass("asc")}else{y.append('<span class="desc"></span>')}a.each(x,function(A,B){a(B).data("sortKey",a(B).children("td").eq(v).text().toUpperCase())});var t=function(B,A){return a(B).data("sortKey").localeCompare(a(A).data("sortKey"))};var w=function(B,A){return a(A).data("sortKey").localeCompare(a(B).data("sortKey"))};if(z.filter("span").hasClass("desc")){x.sort(t)}else{if(z.filter("span").hasClass("asc")){x.sort(w)}}a.each(x,function(B,A){u.append(A)})};return this.each(function(){var w=a.browser.msie&&a.browser.version==6,v=a.browser.msie&&a.browser.version==7;var A=g(a(this),f.header).find("table"),t=a(this).find("table");var x=a.data(document.body,"thTableCellsData",A.find("tr th")),u=a.data(document.body,"tdTableCellsData",t.find("tr").first().find("td"));if(w||v){if(f.nowrap==true){x.attr("nowrap","nowrap")}}if(f.simulateTable==true){var z=[];z=p(x,z);var y=e(z,f.outerWidth,t);A.css("width",y+"px");t.css("width",y+"px");k(x,z);k(u,z);n(a(f.header));l(a(this),A);r(a(this),a(".tables_serial_view "))}if(f.rowsHover==true){q(t,f.hoverClass)}x.click(function(){if(typeof f.col.onclick==="function"){f.col.onclick(this);return}else{if(typeof f.col.onclick==="boolean"&&f.col.onclick==true){if(a(this).find(":checkbox").prop("checked")==null){if(f.colSelect===true){m(a(this),"selector");o(a(this),t,"selector")}if(f.tableSort===true){if(typeof f.tableSortBefore==="function"){f.tableSortBefore()}b(a(this),t.find("tr"),t);if(typeof f.tableSortAfter==="function"){f.tableSortAfter()}}}}}});x.dblclick(function(){if(typeof f.col.ondblclick==="function"){f.col.ondblclick(this)}});t.find("tr").click(function(){if(typeof f.rows.onclick==="function"){f.rows.onclick();return}else{if(typeof f.rows.onclick==="boolean"&&f.rows.onclick==true){var B=a(this).find("td");if(B.hasClass("selector")){B.removeClass("selector")}else{s(B,"selector")}i(B)}}});t.find("tr").dblclick(function(){if(typeof f.rows.ondblclick==="function"){f.rows.ondblclick()}});if(f.snClass!==null){x.eq(0).addClass(f.snClass);t.find("tr").each(function(){a(this).find("td:eq(0)").addClass(f.snClass)})}})}})(jQuery);